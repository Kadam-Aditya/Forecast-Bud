{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4">
  <div class="row mb-4">
    <div class="col-md-10">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="#">Finance News</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            My Favorites
          </li>
        </ol>
      </nav>
    </div>
  </div>

  <div class="row mb-3">
    <div class="col-md-12">
      <form method="get" action="{% url 'Finance News' %}">
        <div class="form-group">
          <label for="news-source">Select News Source:</label>
          <select id="news-source" name="news-source" class="form-control" onchange="this.form.submit()">
            <option value="" {% if selected_source == '' %}selected{% endif %}>Select</option>
            <option value="associated-press" {% if selected_source == 'associated-press' %}selected{% endif %}>Associated Press</option>
            <option value="bbc-news" {% if selected_source == 'bbc-news' %}selected{% endif %}>BBC News</option>
            <option value="bloomberg" {% if selected_source == 'bloomberg' %}selected{% endif %}>Bloomberg</option>
            <option value="business-insider" {% if selected_source == 'business-insider' %}selected{% endif %}>Business Insider</option>
            <option value="crypto-coins-news" {% if selected_source == 'crypto-coins-news' %}selected{% endif %}>Crypto Coins News</option>
            <option value="fox-news" {% if selected_source == 'fox-news' %}selected{% endif %}>Fox News</option>
            <option value="fortune" {% if selected_source == 'fortune' %}selected{% endif %}>Fortune</option>
          </select>
        </div>
      </form>
    </div>
  </div>

  <h1 class="mt-4 text-center" style="font-weight: bold;">HEADLINES</h1>

  <div class="news-container mt-3">
    {% for news, des, image in mylist %}
      <div class="news-item mb-4 p-4 border rounded shadow-sm">
        <h2 class="news-title">{{ news|upper|linebreaks }}</h2>
        <img src="{{ image }}" alt="{{ news }}" class="img-fluid rounded mb-3">
        <h4 class="mt-3">Description:</h4>
        <p class="news-description">{{ des|linebreaks }}</p>
        <a href="https://www.bbc.com/news/business" class="btn btn-link">Read more</a>
      </div>
    {% endfor %}
  </div>

  {% if has_error %}
        <div>
            <p>There was an issue fetching the news. Please try again later.</p>
            <!-- Display the "Buy Subscription Plan" button -->
            <button onclick="location.href='/subscription/'">Buy Subscription Plan</button>
        </div>
    {% else %}
  
</div>

<style>
  body {
    background-color: #f8f9fa;
  }

  .breadcrumb {
    background-color: white; /* Set background color to white */
    padding: 0.5rem 1rem; /* Add padding for better appearance */
    margin-bottom: 1rem;
    margin-top: 7px;
    border-radius: 0.25rem;
    width:1108px; 
    border: 1px solid #ccc;/* Optional: add slight rounding */
  }

  .news-title {
    font-size: 28px;
    font-weight: bold;
    color: #333;
  }

  .news-description {
    font-size: 1rem;
    color: #555;
  }

  .btn-link {
    color: #007bff;
    text-decoration: none;
    font-weight: bold;
  }

  .btn-link:hover {
    text-decoration: underline;
  }

  .news-item {
    background-color: #fff;
    transition: transform 0.2s;
  }

  .news-item:hover {
    transform: translateY(-5px);
  }
</style>
{% endblock content %}
